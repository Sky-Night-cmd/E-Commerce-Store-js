<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>E-Commerce Store</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      transition: 0.3s ease;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #0a0a0a;
      color: #0ff;
      padding: 1rem;
      overflow-x: hidden;
    }

    h1,
    h2,
    h3 {
      color: cyan;
      text-shadow: 0 0 6px #0ff;
    }

    nav {
      background: #111;
      padding: 1rem;
      text-align: center;
      border-radius: 12px;
      margin-bottom: 2rem;
      box-shadow: 0 0 15px #0ff7;
    }

    nav a {
      color: #0ff;
      margin: 0 12px;
      text-decoration: none;
      font-weight: bold;
      font-size: 1.05rem;
    }

    nav a:hover {
      text-shadow: 0 0 10px cyan;
      text-decoration: underline;
    }

    .center {
      text-align: center;
      margin-bottom: 2rem;
      text-shadow: 0 0 8px #0ff;
    }

    .hero-box {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 2rem;
      background: #111;
      padding: 3rem;
      border-radius: 16px;
      box-shadow: 0 0 16px #0ff5;
      margin-bottom: 2rem;
    }

    .hero-text {
      max-width: 500px;
      text-align: center;
    }

    .hero-text h2 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .brand {
      color: cyan;
      text-shadow: 0 0 8px #0ff;
    }

    .hero-text p {
      font-size: 1.2rem;
      margin-bottom: 1.5rem;
    }

    .hero-text button {
      background: cyan;
      color: black;
      font-weight: bold;
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-size: 1.1rem;
      cursor: pointer;
    }

    .hero-text button:hover {
      background: #00e0e0;
      box-shadow: 0 0 10px #0ff;
    }

    .hero-img img {
      width: 100%;
      max-width: 440px;
      height: auto;
      object-fit: cover;
      border-radius: 16px;
      box-shadow: 0 0 20px cyan;
    }

    .featured {
      padding: 2rem;
      background: #111;
      border-radius: 12px;
      box-shadow: 0 0 12px #0ff5;
      margin-bottom: 2rem;
    }

    #featuredProducts {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1.5rem;
    }

    section {
      display: none;
      max-width: 1100px;
      margin: auto;
    }

    section.active {
      display: block;
    }

    form,
    .product,
    .cart-item,
    .detail-box {
      background: #111;
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 0 10px #0ff4;
      margin-bottom: 2rem;
    }

    input,
    button {
      width: 100%;
      padding: 12px;
      margin-top: 1rem;
      border: none;
      border-radius: 6px;
      font-size: 1rem;
    }

    input {
      background: #222;
      color: cyan;
    }

    button {
      background: cyan;
      color: black;
      font-weight: bold;
      cursor: pointer;
    }

    button:hover {
      background: #00e0e0;
      box-shadow: 0 0 10px cyan;
    }

    #productList {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 1.5rem;
    }

    .product img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-radius: 8px;
      margin-bottom: 0.5rem;
      box-shadow: 0 0 10px #0ff4;
    }

    .product:hover {
      transform: scale(1.03);
      box-shadow: 0 0 20px #0ff;
    }

    .detail-box {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      justify-content: center;
      align-items: center;
    }

    .detail-box img {
      width: 300px;
      height: 300px;
      object-fit: cover;
      border-radius: 12px;
      box-shadow: 0 0 20px cyan;
    }

    .detail-info {
      max-width: 500px;
    }

    .cart-item button {
      margin-top: 10px;
      margin-right: 8px;
    }

    .toast {
      position: fixed;
      top: 30px;
      left: 50%;
      transform: translateX(-50%);
      background: #111;
      color: #0ff;
      padding: 1rem 2rem;
      border-radius: 8px;
      box-shadow: 0 0 15px cyan;
      font-weight: bold;
      z-index: 1000;
      display: none;
    }

    @media (max-width: 600px) {
      nav a {
        display: block;
        margin: 10px 0;
      }

      .detail-box {
        flex-direction: column;
      }

      .hero-text h2 {
        font-size: 1.8rem;
      }

      .hero-img img {
        width: 100%;
        height: auto;
      }
    }
  </style>
</head>

<body>
  <h1 class="center">E-Commerce Store</h1>
  <div class="toast" id="toast"></div>
  <nav>
    <a href="#" onclick="switchSection('home')">Home</a>
    <a href="#" onclick="switchSection('login')">Login</a>
    <a href="#" onclick="switchSection('signup')">Signup</a>
    <a href="#" onclick="requireLogin(() => switchSection('products'))">Products</a>
    <a href="#" onclick="requireLogin(() => { renderCart(); switchSection('cart'); })">Cart</a>
    <a href="#" onclick="requireLogin(() => switchSection('checkout'))">Checkout</a>
    <a href="#" onclick="requireLogin(() => { renderProfile(); switchSection('profile'); })">Profile</a>
  </nav>

  <section id="home" class="active">
    <div class="hero-box">
      <div class="hero-text">
        <h2>Welcome to <span class="brand">The Store</span></h2>
        <p>Your gateway to futuristic tech â€” Explore, Discover, Enjoy!</p>
        <button onclick="requireLogin(() => switchSection('products'))">Shop Now</button>
      </div>
      <div class="hero-img">
        <img src="img/store-homepage.png" alt="Store Welcome Image">
      </div>
    </div>
  </section>

  <section id="login">
    <form id="loginForm">
      <h2>Login</h2>
      <input id="loginUsername" placeholder="Username" required />
      <input id="loginPassword" type="password" placeholder="Password" required />
      <button type="submit">Login</button>
    </form>
  </section>

  <section id="signup">
    <form id="signupForm">
      <h2>Signup</h2>
      <input id="signupUsername" placeholder="Username" required />
      <input id="signupPassword" type="password" placeholder="Password" required />
      <input id="signupName" placeholder="Full Name" required />
      <button type="submit">Sign Up</button>
    </form>
  </section>

  <section id="products">
    <h2>Products</h2>
    <div id="productList"></div>
  </section>

  <section id="productDetail">
    <div class="detail-box" id="detailBox"></div>
    <button onclick="switchSection('products')">Back</button>
  </section>

  <section id="cart">
    <h2>Your Cart</h2>
    <div id="cartItems"></div>
  </section>

  <section id="checkout">
    <form id="checkoutForm">
      <h2>Checkout</h2>
      <input placeholder="Full Name" required />
      <input placeholder="Shipping Address" required />
      <input placeholder="Card Number" required />
      <button type="submit">Place Order</button>
    </form>
  </section>

  <section id="profile">
    <h2>Your Profile</h2>
    <div id="profileInfo"></div>
    <button onclick="logout()">Logout</button>
  </section>

  <script>
    const showMessage = msg => {
      const toast = document.getElementById("toast");
      toast.textContent = msg;
      toast.style.display = "block";
      setTimeout(() => toast.style.display = "none", 3000);
    };

    const switchSection = id => {
      document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    };

    const requireLogin = cb => {
      const user = JSON.parse(localStorage.getItem("currentUser"));
      if (!user) {
        showMessage("Please login first.");
        switchSection("login");
      } else cb();
    };

    const products = [
      { id: 1, name: "Smartphone X1", desc: "Flagship phone with 108MP camera", price: 999, img: "img/store-1.jpg" },
      { id: 2, name: "Laptop Pro 15", desc: "Ultra-fast laptop for professionals", price: 1499, img: "img/store-2.jpg" },
      { id: 3, name: "Noise-Canceling Headphones", desc: "Crystal clear sound", price: 249, img: "img/store-3.jpg" },
      { id: 4, name: "Fitness Smartwatch", desc: "Track your health and steps", price: 199, img: "img/store-4.jpg" },
      { id: 5, name: "Gaming Mouse", desc: "RGB wired high DPI mouse", price: 59, img: "img/store-5.jpg" },
      { id: 6, name: "Mechanical Keyboard", desc: "Tactile backlit keys", price: 99, img: "img/store-6.jpg" },
      { id: 7, name: "4K Monitor", desc: "Ultra HD display with HDR", price: 329, img: "img/store-7.jpg" },
      { id: 8, name: "Portable Speaker", desc: "Bass boosted Bluetooth speaker", price: 89, img: "img/store-8.jpg" },
      { id: 9, name: "Drone Mini", desc: "Easy to fly drone with HD cam", price: 179, img: "img/store-9.jpg" },
      { id: 10, name: "External SSD 1TB", desc: "Fast Type-C storage", price: 139, img: "img/store-10.jpg" },
      { id: 11, name: "Wireless Charger Pad", desc: "Fast charging for all devices", price: 49, img: "img/store-11.jpg" },
      { id: 12, name: "VR Headset", desc: "Virtual Reality immersive gaming", price: 299, img: "img/store-12.jpg" },
      { id: 13, name: "Smart Home Hub", desc: "Control lights and devices", price: 119, img: "img/store-13.jpg" },
      { id: 14, name: "Mini Projector", desc: "Cinematic viewing anywhere", price: 189, img: "img/store-14.jpg" },
      { id: 15, name: "Electric Toothbrush", desc: "Smart timer and pressure sensor", price: 79, img: "img/store-15.jpg" },
      { id: 16, name: "Smart Desk Lamp", desc: "Touch control with wireless charging", price: 69, img: "img/store-16.jpg" }
    ];

    if (!localStorage.getItem("products")) {
      localStorage.setItem("products", JSON.stringify(products));
    }

    const renderProducts = () => {
      const data = JSON.parse(localStorage.getItem("products")) || [];
      document.getElementById("productList").innerHTML = data.map(p => `
        <div class="product">
          <img src="${p.img}" alt="${p.name}">
          <h3>${p.name}</h3>
          <p>${p.desc}</p>
          <p><strong>$${p.price}</strong></p>
          <button onclick="viewProduct(${p.id})">View Details</button>
        </div>
      `).join("");
    };

    const viewProduct = id => {
      const product = JSON.parse(localStorage.getItem("products")).find(p => p.id === id);
      document.getElementById("detailBox").innerHTML = `
        <img src="${product.img}" alt="${product.name}">
        <div class="detail-info">
          <h2>${product.name}</h2>
          <p>${product.desc}</p>
          <p><strong>Price: $${product.price}</strong></p>
          <button onclick="addToCart(${product.id})">Add to Cart</button>
        </div>
      `;
      switchSection("productDetail");
    };

    const addToCart = id => {
      const products = JSON.parse(localStorage.getItem("products"));
      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      const item = products.find(p => p.id === id);
      const existing = cart.find(c => c.id === id);
      existing ? existing.qty++ : cart.push({ ...item, qty: 1 });
      localStorage.setItem("cart", JSON.stringify(cart));
      renderCart();
      showMessage(`${item.name} added to cart.`);
    };

    const renderCart = () => {
      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      const container = document.getElementById("cartItems");
      container.innerHTML = cart.length
        ? cart.map((item, i) => `
            <div class="cart-item">
              <h3>${item.name}</h3>
              Quantity: ${item.qty}<br>
              Total: $${item.price * item.qty}<br>
              <button onclick="changeQty(${i}, 1)">+</button>
              <button onclick="changeQty(${i}, -1)">â€“</button>
              <button onclick="removeFromCart(${i})">Remove</button>
            </div>
          `).join("")
        : "<p>Your cart is empty.</p>";
    };

    const changeQty = (i, diff) => {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      cart[i].qty += diff;
      if (cart[i].qty <= 0) cart.splice(i, 1);
      localStorage.setItem("cart", JSON.stringify(cart));
      renderCart();
    };

    const removeFromCart = i => {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      showMessage(`Removed ${cart[i].name} from cart.`);
      cart.splice(i, 1);
      localStorage.setItem("cart", JSON.stringify(cart));
      renderCart();
    };

    const renderProfile = () => {
      const user = JSON.parse(localStorage.getItem("currentUser"));
      document.getElementById("profileInfo").innerHTML = user
        ? `<p><strong>Name:</strong> ${user.name}</p><p><strong>Username:</strong> ${user.username}</p>`
        : "<p>Please login.</p>";
    };

    const logout = () => {
      localStorage.removeItem("currentUser");
      showMessage("Logged out.");
      switchSection("login");
    };

    document.getElementById("signupForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const username = signupUsername.value.trim();
      const password = signupPassword.value.trim();
      const name = signupName.value.trim();
      let users = JSON.parse(localStorage.getItem("users")) || [];
      if (users.find(u => u.username === username)) return showMessage("Username already taken.");
      users.push({ username, password, name });
      localStorage.setItem("users", JSON.stringify(users));
      showMessage("Signup successful. Please login.");
      switchSection("login");
    });

    document.getElementById("loginForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const username = loginUsername.value.trim();
      const password = loginPassword.value.trim();
      const users = JSON.parse(localStorage.getItem("users")) || [];
      const user = users.find(u => u.username === username && u.password === password);
      if (!user) return showMessage("Invalid credentials.");
      localStorage.setItem("currentUser", JSON.stringify(user));
      renderProfile();
      showMessage("Login successful.");
      switchSection("profile");
    });

    document.getElementById("checkoutForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      const total = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
      showMessage(`Order placed!\nTotal: $${total}`);
      localStorage.removeItem("cart");
      renderCart();
      switchSection("home");
    });

    renderProducts();
    renderCart();
    renderProfile();
  </script>
</body>

</html>
